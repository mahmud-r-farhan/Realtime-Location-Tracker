<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">

    <!-- SEO Meta Tags -->
    <title>Real-Time Location Tracker - Track & Monitor Live Locations</title>
    <meta name="description"
        content="Real-Time Location Tracker is a web application for tracking and monitoring real-time locations with WebSockets, Leaflet, and WebRTC. Stay connected and track movement seamlessly.">
    <meta name="keywords"
        content="Real-Time Location Tracker, Live Location Tracking, GPS Tracker, WebRTC, WebSockets, Leaflet, Online Tracking, Near me, neighbour, neighbor, location, real-time, monitor, track, movement, map, live, web application, web development, Mahmudur Rahman">
    <meta name="author" content="Mahmudur Rahman">

    <!-- Open Graph (OG) for Social Media -->
    <meta property="og:title" content="Real-Time Location Tracker - Track & Monitor Live Locations">
    <meta property="og:description"
        content="Monitor real-time locations seamlessly using WebRTC and WebSockets with an interactive map powered by Leaflet.">
    <meta property="og:image"
        content="https://res.cloudinary.com/dqovjmmlx/image/upload/v1739883223/aaaaaaaa_hnn63s.jpg">
    <meta property="og:url" content="https://realtime-location-tracker-v9ow.onrender.com/">
    <meta property="og:type" content="website">

    <!-- Twitter Card for Social Sharing -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:title" content="Real-Time Location Tracker">
    <meta name="twitter:description" content="Track and monitor real-time locations with ease.">
    <meta name="twitter:image" content="https://res.cloudinary.com/dqovjmmlx/image/upload/v1739883223/aaa_vfrek4.jpg">
    <meta name="twitter:site" content="@mahmud_r_farhan">

    <!-- PWA Meta Tags -->
    <link rel="manifest" href="/manifest.json">
    <meta name="theme-color" content="#4f46e5">
    <meta name="mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
    <meta name="apple-mobile-web-app-title" content="Location Tracker">

    <!-- Apple Touch Icons -->
    <link rel="apple-touch-icon" href="/assets/icons/icon.svg">
    <link rel="apple-touch-icon" sizes="152x152" href="/assets/icons/icon.svg">
    <link rel="apple-touch-icon" sizes="180x180" href="/assets/icons/icon.svg">
    <link rel="apple-touch-icon" sizes="167x167" href="/assets/icons/icon.svg">

    <!-- Microsoft Tile -->
    <meta name="msapplication-TileColor" content="#1a1a2e">
    <meta name="msapplication-TileImage" content="/assets/icons/icon.svg">
    <meta name="msapplication-config" content="none">

    <!-- Favicon -->
    <link rel="icon" type="image/png" href="assets/favico.png">

    <!-- Stylesheets -->
    <link rel="stylesheet" href="https://unpkg.com/leaflet@1.7.1/dist/leaflet.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <link rel="stylesheet" href="/css/style.css">
    <link rel="stylesheet" href="/css/panel.css">
    <link rel="stylesheet" href="/css/device.css">
    <link rel="stylesheet" href="/css/chat.css">
    <link rel="stylesheet" href="/css/audio.css">
    <link rel="stylesheet" href="/css/notification.css">
    <link rel="stylesheet" href="/css/popup.css">
    <link rel="stylesheet" href="/css/responsive.css">
    <link rel="stylesheet" href="/css/icon.css">
    <link rel="stylesheet" href="/css/sos.css">

    <!-- Canonical URL -->
    <link rel="canonical" href="https://realtime-location-tracker-v9ow.onrender.com/">

    <!-- Robots Meta Tag -->
    <meta name="robots" content="index, follow">
</head>

<body>
    <div id="map"></div>
    <div id="sidebar" class="collapsed">
        <div id="sidebar-toggle">
            <i class="fas fa-chevron-left"></i>
        </div>
        <div id="info-panel">
            <div class="Connected-Devices">
                <h2>Connected Devices</h2>
                <h3 id="user-count">0</h3>
            </div>
            <ul id="device-list"></ul>
            <div id="audio-controls">
                <button id="mic-btn">
                    <img src="/assets/microphone-muted-icon.png" alt="Microphone">
                </button>
                <button id="speaker-btn">
                    <img src="/assets/speaker-on-icon.png" alt="Speaker">
                </button>
            </div>
        </div>
    </div>
    <div id="name-popup" class="hidden">
        <div class="popup-content">
            <h2>Welcome to Real-Time Location Tracker
                <img src="/assets/icons8-location.gif" style="width: 26px; height: auto;" alt="icon-gif">
            </h2>
            <p>Assigned name:</p>
            <input type="text" id="user-name-input" placeholder="Enter Name (optional)">

            <p style="margin-top: 15px;">Organization / Crew ID:</p>
            <input type="text" id="org-input" placeholder="e.g. Fleet1 (Leave empty for Public)">

            <div class="popup-buttons">
                <button id="continue-btn">Continue</button>
            </div>
        </div>
    </div>

    <div id="notification-panel" class="minimized">
        <div class="notification-header">
            <div class="drag-handle">
                <i class="fas fa-grip-lines"></i>
                <span>Activity Logs</span>
            </div>
            <button id="notification-toggle">+</button>
        </div>
        <div class="notification-content">
            <ul id="notification-list"></ul>
        </div>
    </div>

    <div id="chat-panel" class="hidden">
        <div class="chat-header">
            <span id="chat-title">Group Chat</span>
            <button id="close-chat">√ó</button>
        </div>
        <div class="chat-messages" id="chat-messages"></div>
        <div class="chat-input">
            <input type="text" id="message-input" placeholder="Type a message...">
            <button id="send-message">
                <i class="fas fa-paper-plane"></i>
            </button>
        </div>
    </div>

    <div id="chat-fab">
        <span class="chat-notification hidden"></span>
        <i class="fas fa-comments"></i>
    </div>

    <!-- SOS Button -->
    <button id="sos-btn" class="sos-button" title="Hold for 2 seconds to send emergency alert"
        onclick="if(!this.classList.contains('holding')) { document.getElementById('sos-modal').classList.remove('hidden'); }">
        <span class="sos-text">SOS</span>
        <span class="sos-progress"></span>
    </button>

    <!-- SOS Modal -->
    <div id="sos-modal" class="sos-modal hidden" onclick="if(event.target === this) this.classList.add('hidden')">
        <div class="sos-modal-content">
            <div class="sos-modal-header">
                <h2>üö® Emergency SOS</h2>
                <button id="sos-modal-close" class="sos-modal-close"
                    onclick="document.getElementById('sos-modal').classList.add('hidden')">&times;</button>
            </div>
            <div class="sos-modal-body">
                <div class="sos-tabs">
                    <button class="sos-tab active" data-tab="alerts"
                        onclick="document.querySelectorAll('.sos-tab').forEach(t=>t.classList.remove('active')); document.querySelectorAll('.sos-tab-content').forEach(c=>c.classList.remove('active')); this.classList.add('active'); document.getElementById('sos-tab-alerts').classList.add('active');">
                        <span class="tab-icon">üì¢</span>
                        SOS Alerts
                        <span id="sos-count" class="sos-count hidden">0</span>
                    </button>
                    <button class="sos-tab" data-tab="send"
                        onclick="document.querySelectorAll('.sos-tab').forEach(t=>t.classList.remove('active')); document.querySelectorAll('.sos-tab-content').forEach(c=>c.classList.remove('active')); this.classList.add('active'); document.getElementById('sos-tab-send').classList.add('active');">
                        <span class="tab-icon">üÜò</span>
                        Send SOS
                    </button>
                </div>
                <div id="sos-tab-alerts" class="sos-tab-content active">
                    <div id="sos-alerts-list" class="sos-alerts-list">
                        <div class="sos-empty">
                            <span class="sos-empty-icon">‚úì</span>
                            <p>No active SOS alerts</p>
                            <small>All users are safe</small>
                        </div>
                    </div>
                </div>
                <div id="sos-tab-send" class="sos-tab-content">
                    <div class="sos-send-section">
                        <p class="sos-instruction">Hold the SOS button for 2 seconds to send an emergency alert to all
                            connected users.</p>
                        <div class="sos-trigger-area">
                            <button id="sos-trigger-btn" class="sos-trigger-button">
                                <span class="sos-trigger-text">HOLD TO SEND SOS</span>
                                <span class="sos-trigger-progress"></span>
                            </button>
                        </div>
                        <div class="sos-features">
                            <div class="sos-feature">
                                <span class="feature-icon">üìç</span>
                                <span>Your real-time location</span>
                            </div>
                            <div class="sos-feature">
                                <span class="feature-icon">üì±</span>
                                <span>Device information</span>
                            </div>
                            <div class="sos-feature">
                                <span class="feature-icon">üåê</span>
                                <span>IP address & location</span>
                            </div>
                            <div class="sos-feature">
                                <span class="feature-icon">üîî</span>
                                <span>Instant notification</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="https://unpkg.com/leaflet@1.7.1/dist/leaflet.js"></script>
    <script src="/socket.io/socket.io.js"></script>
    <script src="/js/pwa.js"></script>
    <script type="module" src="/js/main.js"></script>
</body>

</html>